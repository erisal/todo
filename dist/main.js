(()=>{"use strict";var e={561:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(e.getTime()),r=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var d=r>0?(n+o(t))%n:o(t);return r*n+d};var n=6e4;function o(e){return e.getTime()%n}e.exports=t.default},734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default},615:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,d.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t),c=n.getTime()-(0,o.default)(n),s=a.getTime()-(0,o.default)(a);return Math.round((c-s)/l)};var o=a(n(561)),r=a(n(749)),d=a(n(734));function a(e){return e&&e.__esModule?e:{default:e}}var l=864e5;e.exports=t.default},749:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,o.default)(e);return t.setHours(0,0,0,0),t};var o=d(n(171)),r=d(n(734));function d(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},171:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))};var o,r=(o=n(734))&&o.__esModule?o:{default:o};e.exports=t.default}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(615),t=n.n(e);const o=new Date,r=String(o.getDate()).padStart(2,"0"),d=String(o.getMonth()+1).padStart(2,"0"),a=`${o.getFullYear()}-${d}-${r}`,l=(()=>{let e=function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}();return{copyToLocal:function(t){e&&localStorage.setItem("todo",JSON.stringify(t))},getLocal:function(){return e&&""!=JSON.parse(localStorage.getItem("todo"))?JSON.parse(localStorage.getItem("todo")):null},resetLocal:function(){e&&localStorage.setItem("todo",JSON.stringify([]))}}})(),c=(e,t="",n="",o=1,r="open")=>{const d=[];return{getTitle:()=>e,setTitle:t=>e=t,getDescription:()=>t,setDescription:e=>t=e,getDue:()=>n,setDue:e=>n=e,getPriority:()=>o,setPriority:e=>o=e,getStatus:()=>r,toggleStatus:()=>{"open"===r&&(r="closed"),"closed"===r&&(r="open")},getTask:()=>[e,t,n,o,r],addNote:e=>{d.unshift(e)},deleteNote:e=>{d.splice(e,1)}}},s=(e,t="")=>{const n=[];return{getTitle:()=>e,setTitle:t=>e=t,getDescription:()=>t,setDescription:e=>t=e,addTask:e=>{n.push(e)},deleteTask:e=>n.splice(e,1),getTasks:()=>n,exportData:()=>{let t=[e,[]];for(let e=0;e<n.length;e++)t[1].push(n[e].getTask());return t}}},i=(()=>{const e=()=>{let e=[];for(let t=0;t<n.length;t++)e.push(n[t].exportData());return e},t=e=>{let t=[];for(let n=0;n<e.length;n++){let o=s(e[n][0]),r=e[n][1];for(let e=0;e<r.length;e++){let t=r[e][0],n=r[e][1],d=r[e][2],a=r[e][3],l=r[e][4],s=c(t,n,d,a,l);o.addTask(s)}t.push(o)}return t};let n,o=l.getLocal();return n=null==o?[s("General")]:t(o),{addProject:t=>{n.push(t),l.copyToLocal(e())},deleteProject:t=>{n.splice(t,1),l.copyToLocal(e())},getProjects:()=>n,getProject:e=>n[e],updateProject:(t,o)=>{n.splice(t,1,o),l.copyToLocal(e())},exportProjects:e,importProjects:t,numProjects:()=>n.length}})(),u=(()=>{const e=document.querySelector("#content");let n=0,o=i.getProject(n),r=i.getProjects();document.getElementById("addProjectButton").addEventListener("click",(()=>p())),document.getElementById("submitTask").addEventListener("click",(()=>u.dispatchAddTask())),document.getElementById("cancelTaskForm").addEventListener("click",(()=>u.toggleTaskForm())),document.getElementById("submitProjectButton").addEventListener("click",(()=>u.dispatchAddProject())),document.getElementById("cancelProjectForm").addEventListener("click",(()=>u.toggleProjectForm()));const d=t=>{e.innerHTML="",n=t,o=i.getProject(t);const r=document.createElement("div");r.id="categoryHead";const d=document.createElement("div");d.id="categoryTitle",d.textContent=o.getTitle();const a=document.createElement("div");a.id="categoryFunctions";const c=document.createElement("input");c.type="button",c.addEventListener("click",(()=>u.toggleTaskForm())),c.value="+ add task",c.id="addTaskButton",a.appendChild(c);const s=document.createElement("input");s.type="button",s.addEventListener("click",(()=>u.dispatchDelProject(n))),s.value="- delete project",s.id="addTaskButton",a.appendChild(s),r.appendChild(d),r.appendChild(a),e.appendChild(r);let p=o.getTasks();for(let e=0;e<p.length;e++)l(p[e],e);document.getElementById("addTaskForm").setAttribute("data-index",t),e.setAttribute("data-index",t)},l=(n,o)=>{let r=n.getTitle(),d=n.getDue(),l=n.getDescription(),c=document.createElement("div");c.classList.add("taskContainer");let s=document.createElement("div");s.classList.add("taskHead");let i=document.createElement("div");i.classList.add("taskTitle"),""!=l&&(r+=" ..."),i.textContent=r,i.addEventListener("click",(()=>g(o)));let p=document.createElement("div");if(p.classList.add("dueDate"),""!=d){const e=t()(new Date(d),new Date(a));p.textContent=`${e}D left (${d})`}let m=document.createElement("div");m.classList.add("taskFunctions");const f=document.createElement("input");f.type="button",f.addEventListener("click",(()=>u.dispatchDelTask(o))),f.value="- delete",f.classList.add("delTaskButton"),m.appendChild(f);let T=document.createElement("div");T.classList.add("taskBody"),T.id=`taskbody-${o}`;let y=document.createElement("div");y.classList.add("taskDescription"),y.textContent=n.getDescription(),s.appendChild(i),s.appendChild(p),s.appendChild(m),T.appendChild(y),c.appendChild(s),c.appendChild(T),e.appendChild(c)},p=()=>{document.querySelector(".projectWhiteOut").classList.toggle("showProjectForm")},g=e=>{document.getElementById(`taskbody-${e}`).classList.toggle("showTaskBody")};return{renderContent:d,renderMenu:()=>{const e=document.getElementById("projectMenu");e.innerHTML="",document.createElement("div").id="projectHead";for(let t=0;t<r.length;t++){let n=document.createElement("a");n.classList.add("projectLink"),n.href="#",n.addEventListener("click",(()=>d(t))),n.textContent=r[t].getTitle(),n.innerHTML=n.innerHTML+"<br>",e.appendChild(n)}},toggleTaskForm:()=>{document.querySelector(".taskWhiteOut").classList.toggle("showTaskForm")},toggleProjectForm:p,dispatchAddTask:()=>{let e=document.getElementById("newTaskTitle").value;if(""==e)return;console.log("new title: "+e);let t=document.getElementById("newTaskDescription").value,r=document.getElementById("newTaskDue").value,d=document.getElementById("newTaskPriority").value,a=c(e,t,r,d);o.addTask(a),i.updateProject(n,o),u.toggleTaskForm(),document.getElementById("newTaskTitle").value="",document.getElementById("newTaskDescription").value="",document.getElementById("newTaskDue").value="",document.getElementById("newTaskPriority").value="1",u.renderContent(n)},dispatchDelTask:e=>{o.deleteTask(e),i.updateProject(n,o),u.renderContent(n)},dispatchDelProject:e=>{confirm("Are you sure you want to delete this project?")&&(i.deleteProject(e),n=0,u.renderMenu(),u.renderContent(n))},dispatchAddProject:()=>{let e=document.getElementById("newProjectTitle").value,t=document.getElementById("newProjectDescription").value,n=s(e,t);i.addProject(n),u.renderMenu(),u.toggleProjectForm(),d(i.numProjects()-1)}}})();u.renderContent(0),u.renderMenu()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLy4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLy4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8vLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8vLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZkRheS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLy4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3RvRGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdG9kby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9kby93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJkZWZhdWx0IiwiZGlydHlEYXRlIiwiZGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwiYmFzZVRpbWV6b25lT2Zmc2V0IiwiTWF0aCIsImNlaWwiLCJnZXRUaW1lem9uZU9mZnNldCIsInNldFNlY29uZHMiLCJtaWxsaXNlY29uZHNQYXJ0T2ZUaW1lem9uZU9mZnNldCIsIk1JTExJU0VDT05EU19JTl9NSU5VVEUiLCJnZXREYXRlTWlsbGlzZWNvbmRzUGFydCIsIm1vZHVsZSIsInJlcXVpcmVkIiwiYXJncyIsImxlbmd0aCIsIlR5cGVFcnJvciIsImRpcnR5RGF0ZUxlZnQiLCJkaXJ0eURhdGVSaWdodCIsIl9pbmRleDMiLCJhcmd1bWVudHMiLCJzdGFydE9mRGF5TGVmdCIsIl9pbmRleDIiLCJzdGFydE9mRGF5UmlnaHQiLCJ0aW1lc3RhbXBMZWZ0IiwiX2luZGV4IiwidGltZXN0YW1wUmlnaHQiLCJyb3VuZCIsIk1JTExJU0VDT05EU19JTl9EQVkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsInNldEhvdXJzIiwiYXJndW1lbnQiLCJhcmdTdHIiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwic3RhY2siLCJOYU4iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsImhhc093blByb3BlcnR5IiwidG9kYXkiLCJkZCIsIlN0cmluZyIsImdldERhdGUiLCJwYWRTdGFydCIsIm1tIiwiZ2V0TW9udGgiLCJjdXJyZW50RGF0ZSIsImdldEZ1bGxZZWFyIiwibG9jU3RvcmFnZSIsImxvY2FsU3RvciIsInR5cGUiLCJzdG9yYWdlIiwid2luZG93IiwieCIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZSIsIkRPTUV4Y2VwdGlvbiIsImNvZGUiLCJuYW1lIiwic3RvcmFnZUF2YWlsYWJsZSIsImNvcHlUb0xvY2FsIiwicHJvamVjdExpc3QiLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0TG9jYWwiLCJwYXJzZSIsImdldEl0ZW0iLCJyZXNldExvY2FsIiwiVGFzayIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWUiLCJwcmlvcml0eSIsInN0YXR1cyIsIm5vdGVzIiwiZ2V0VGl0bGUiLCJzZXRUaXRsZSIsIm5ld1RpdGxlIiwiZ2V0RGVzY3JpcHRpb24iLCJzZXREZXNjcmlwdGlvbiIsIm5ld0Rlc2NyaXB0aW9uIiwiZ2V0RHVlIiwic2V0RHVlIiwibmV3RHVlIiwiZ2V0UHJpb3JpdHkiLCJzZXRQcmlvcml0eSIsIm5ld1ByaW9yaXR5IiwiZ2V0U3RhdHVzIiwidG9nZ2xlU3RhdHVzIiwiZ2V0VGFzayIsImFkZE5vdGUiLCJub3RlIiwidW5zaGlmdCIsImRlbGV0ZU5vdGUiLCJudW0iLCJzcGxpY2UiLCJQcm9qZWN0IiwidGFza3MiLCJhZGRUYXNrIiwidGFzayIsInB1c2giLCJkZWxldGVUYXNrIiwiZ2V0VGFza3MiLCJleHBvcnREYXRhIiwiZXhwb3J0ZXIiLCJpIiwicHJvamVjdHMiLCJleHBvcnRQcm9qZWN0cyIsImltcG9ydFByb2plY3RzIiwicHJvamVjdEFyciIsImFyckZyb21JbXBvcnQiLCJuZXdQcm9qZWN0IiwibmV3VGFza0xpc3QiLCJqIiwibmV3U3RhdHVzIiwibmV3VGFzayIsInByb2plY3RJbXBvcnQiLCJhZGRQcm9qZWN0IiwicHJvamVjdCIsImRlbGV0ZVByb2plY3QiLCJnZXRQcm9qZWN0cyIsImdldFByb2plY3QiLCJpbmRleCIsInVwZGF0ZVByb2plY3QiLCJudW1Qcm9qZWN0cyIsInJlbmRlclBhZ2UiLCJjb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3VycmVudFByb2pJbmRleCIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZVByb2plY3RGb3JtIiwiZGlzcGF0Y2hBZGRUYXNrIiwidG9nZ2xlVGFza0Zvcm0iLCJkaXNwYXRjaEFkZFByb2plY3QiLCJyZW5kZXJDb250ZW50IiwiaW5uZXJIVE1MIiwiY2F0SGVhZCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImNhdFRpdGxlIiwidGV4dENvbnRlbnQiLCJjYXRGdW5jdGlvbnMiLCJhZGRUYXNrQnV0dG9uIiwiYXBwZW5kQ2hpbGQiLCJkZWxldGVQcm9qZWN0QnV0dG9uIiwiZGlzcGF0Y2hEZWxQcm9qZWN0IiwidGFza0xpc3QiLCJyZW5kZXJUYXNrIiwic2V0QXR0cmlidXRlIiwidGFza1RpdGxlVGV4dCIsImR1ZURhdGUiLCJkZXNjcmlwdGlvblRleHQiLCJ0YXNrQ29udGFpbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwidGFza0hlYWQiLCJ0YXNrVGl0bGUiLCJ0b2dnbGVUYXNrQm9keSIsImR1ZURhdGVEaXYiLCJkYXlzQmV0d2VlbiIsInRhc2tGdW5jdGlvbnMiLCJkZWxUYXNrQnV0dG9uIiwiZGlzcGF0Y2hEZWxUYXNrIiwidGFza0JvZHkiLCJ0YXNrRGVzY3JpcHRpb24iLCJ0b2dnbGUiLCJyZW5kZXJNZW51IiwicHJvamVjdE1lbnUiLCJwcm9qZWN0TGluayIsImhyZWYiLCJsb2ciLCJjb25maXJtIl0sIm1hcHBpbmdzIjoic0NBRUFBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUMzQ0MsT0FBTyxJQUVURCxFQUFRRSxRQW1CUixTQUF5Q0MsR0FDdkMsSUFBSUMsRUFBTyxJQUFJQyxLQUFLRixFQUFVRyxXQUMxQkMsRUFBcUJDLEtBQUtDLEtBQUtMLEVBQUtNLHFCQUN4Q04sRUFBS08sV0FBVyxFQUFHLEdBQ25CLElBQ0lDLEVBRHVCTCxFQUFxQixHQUNlTSxFQUF5QkMsRUFBd0JWLElBQVNTLEVBQXlCQyxFQUF3QlYsR0FDMUssT0FBT0csRUFBcUJNLEVBQXlCRCxHQXhCdkQsSUFBSUMsRUFBeUIsSUFFN0IsU0FBU0MsRUFBd0JWLEdBQy9CLE9BQU9BLEVBQUtFLFVBQVlPLEVBd0IxQkUsRUFBT2YsUUFBVUEsRUFBUUUsUyxZQy9CekJKLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUMzQ0MsT0FBTyxJQUVURCxFQUFRRSxRQUVSLFNBQXNCYyxFQUFVQyxHQUM5QixHQUFJQSxFQUFLQyxPQUFTRixFQUNoQixNQUFNLElBQUlHLFVBQVVILEVBQVcsYUFBZUEsRUFBVyxFQUFJLElBQU0sSUFBTSx1QkFBeUJDLEVBQUtDLE9BQVMsYUFJcEhILEVBQU9mLFFBQVVBLEVB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R0FDNUIsSUFBSUcsRUFBaUIrQyxTQUFTRyxlQUFlLHNCQUFzQnpKLE1BQy9EMEcsRUFBUzRDLFNBQVNHLGVBQWUsY0FBY3pKLE1BQy9DNkcsRUFBY3lDLFNBQVNHLGVBQWUsbUJBQW1CekosTUFFekQwSSxFQUFVL0MsRUFBS1MsRUFBU0csRUFBZUcsRUFBT0csR0FFbERnQyxFQUFRcEIsUUFBUWlCLEdBQ2hCVCxFQUFTaUIsY0FBY00sRUFBa0JYLEdBR3pDTyxFQUFXUyxpQkF4QlhQLFNBQVNHLGVBQWUsZ0JBQWdCekosTUFBUSxHQUNoRHNKLFNBQVNHLGVBQWUsc0JBQXNCekosTUFBUSxHQUN0RHNKLFNBQVNHLGVBQWUsY0FBY3pKLE1BQVEsR0FDOUNzSixTQUFTRyxlQUFlLG1CQUFtQnpKLE1BQVEsSUF1Qm5Eb0osRUFBV1csY0FBY1AsSUE0Q3pCbUMsZ0JBeENxQnhCLElBQ3JCdEIsRUFBUWpCLFdBQVd1QyxHQUNuQmxDLEVBQVNpQixjQUFjTSxFQUFrQlgsR0FDekNPLEVBQVdXLGNBQWNQLElBc0N6QmtCLG1CQW5Dd0JQLElBQ3BCaUMsUUFBUSxtREFDUm5FLEVBQVNhLGNBQWNxQixHQUN2QlgsRUFBbUIsRUFDbkJKLEVBQVcyQyxhQUNYM0MsRUFBV1csY0FBY1AsS0ErQjdCTSxtQkEzQnVCLEtBQ3ZCLElBQUkxRCxFQUFXa0QsU0FBU0csZUFBZSxtQkFBbUJ6SixNQUN0RHVHLEVBQWlCK0MsU0FBU0csZUFBZSx5QkFBeUJ6SixNQUVsRXNJLEVBQWFmLEVBQVFuQixFQUFVRyxHQUduQzBCLEVBQVNXLFdBQVdOLEdBR3BCYyxFQUFXMkMsYUFHWDNDLEVBQVdPLG9CQUdaSSxFQUFjOUIsRUFBU2tCLGNBQWdCLE1BN1AzQixHQThRbkJDLEVBQVdXLGNBQWMsR0FDekJYLEVBQVcyQyxjIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHM7XG52YXIgTUlMTElTRUNPTkRTX0lOX01JTlVURSA9IDYwMDAwO1xuXG5mdW5jdGlvbiBnZXREYXRlTWlsbGlzZWNvbmRzUGFydChkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldFRpbWUoKSAlIE1JTExJU0VDT05EU19JTl9NSU5VVEU7XG59XG4vKipcbiAqIEdvb2dsZSBDaHJvbWUgYXMgb2YgNjcuMC4zMzk2Ljg3IGludHJvZHVjZWQgdGltZXpvbmVzIHdpdGggb2Zmc2V0IHRoYXQgaW5jbHVkZXMgc2Vjb25kcy5cbiAqIFRoZXkgdXN1YWxseSBhcHBlYXIgZm9yIGRhdGVzIHRoYXQgZGVub3RlIHRpbWUgYmVmb3JlIHRoZSB0aW1lem9uZXMgd2VyZSBpbnRyb2R1Y2VkXG4gKiAoZS5nLiBmb3IgJ0V1cm9wZS9QcmFndWUnIHRpbWV6b25lIHRoZSBvZmZzZXQgaXMgR01UKzAwOjU3OjQ0IGJlZm9yZSAxIE9jdG9iZXIgMTg5MVxuICogYW5kIEdNVCswMTowMDowMCBhZnRlciB0aGF0IGRhdGUpXG4gKlxuICogRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIHRoZSBvZmZzZXQgaW4gbWludXRlcyBhbmQgd291bGQgcmV0dXJuIDU3IGZvciB0aGUgZXhhbXBsZSBhYm92ZSxcbiAqIHdoaWNoIHdvdWxkIGxlYWQgdG8gaW5jb3JyZWN0IGNhbGN1bGF0aW9ucy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRpbWV6b25lIG9mZnNldCBpbiBtaWxsaXNlY29uZHMgdGhhdCB0YWtlcyBzZWNvbmRzIGluIGFjY291bnQuXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRpcnR5RGF0ZSkge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRpcnR5RGF0ZS5nZXRUaW1lKCkpO1xuICB2YXIgYmFzZVRpbWV6b25lT2Zmc2V0ID0gTWF0aC5jZWlsKGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gIGRhdGUuc2V0U2Vjb25kcygwLCAwKTtcbiAgdmFyIGhhc05lZ2F0aXZlVVRDT2Zmc2V0ID0gYmFzZVRpbWV6b25lT2Zmc2V0ID4gMDtcbiAgdmFyIG1pbGxpc2Vjb25kc1BhcnRPZlRpbWV6b25lT2Zmc2V0ID0gaGFzTmVnYXRpdmVVVENPZmZzZXQgPyAoTUlMTElTRUNPTkRTX0lOX01JTlVURSArIGdldERhdGVNaWxsaXNlY29uZHNQYXJ0KGRhdGUpKSAlIE1JTExJU0VDT05EU19JTl9NSU5VVEUgOiBnZXREYXRlTWlsbGlzZWNvbmRzUGFydChkYXRlKTtcbiAgcmV0dXJuIGJhc2VUaW1lem9uZU9mZnNldCAqIE1JTExJU0VDT05EU19JTl9NSU5VVEUgKyBtaWxsaXNlY29uZHNQYXJ0T2ZUaW1lem9uZU9mZnNldDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSByZXF1aXJlZEFyZ3M7XG5cbmZ1bmN0aW9uIHJlcXVpcmVkQXJncyhyZXF1aXJlZCwgYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPCByZXF1aXJlZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocmVxdWlyZWQgKyAnIGFyZ3VtZW50JyArIChyZXF1aXJlZCA+IDEgPyAncycgOiAnJykgKyAnIHJlcXVpcmVkLCBidXQgb25seSAnICsgYXJncy5sZW5ndGggKyAnIHByZXNlbnQnKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cztcblxudmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy9pbmRleC5qc1wiKSk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vc3RhcnRPZkRheS9pbmRleC5qc1wiKSk7XG5cbnZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgTUlMTElTRUNPTkRTX0lOX0RBWSA9IDg2NDAwMDAwO1xuLyoqXG4gKiBAbmFtZSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXNcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5cyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgbnVtYmVyIG9mIGNhbGVuZGFyIGRheXMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuIFRoaXMgbWVhbnMgdGhhdCB0aGUgdGltZXMgYXJlIHJlbW92ZWRcbiAqIGZyb20gdGhlIGRhdGVzIGFuZCB0aGVuIHRoZSBkaWZmZXJlbmNlIGluIGRheXMgaXMgY2FsY3VsYXRlZC5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVMZWZ0IC0gdGhlIGxhdGVyIGRhdGVcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBlYXJsaWVyIGRhdGVcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5c1xuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBIb3cgbWFueSBjYWxlbmRhciBkYXlzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxMSAyMzowMDowMCBhbmQgMiBKdWx5IDIwMTIgMDA6MDA6MDA/XG4gKiB2YXIgcmVzdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKFxuICogICBuZXcgRGF0ZSgyMDEyLCA2LCAyLCAwLCAwKSxcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMiwgMjMsIDApXG4gKiApXG4gKiAvLz0+IDM2NlxuICogLy8gSG93IG1hbnkgY2FsZW5kYXIgZGF5cyBhcmUgYmV0d2VlblxuICogLy8gMiBKdWx5IDIwMTEgMjM6NTk6MDAgYW5kIDMgSnVseSAyMDExIDAwOjAxOjAwP1xuICogdmFyIHJlc3VsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMywgMCwgMSksXG4gKiAgIG5ldyBEYXRlKDIwMTEsIDYsIDIsIDIzLCA1OSlcbiAqIClcbiAqIC8vPT4gMVxuICovXG5cbmZ1bmN0aW9uIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICB2YXIgc3RhcnRPZkRheUxlZnQgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkaXJ0eURhdGVMZWZ0KTtcbiAgdmFyIHN0YXJ0T2ZEYXlSaWdodCA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgdmFyIHRpbWVzdGFtcExlZnQgPSBzdGFydE9mRGF5TGVmdC5nZXRUaW1lKCkgLSAoMCwgX2luZGV4LmRlZmF1bHQpKHN0YXJ0T2ZEYXlMZWZ0KTtcbiAgdmFyIHRpbWVzdGFtcFJpZ2h0ID0gc3RhcnRPZkRheVJpZ2h0LmdldFRpbWUoKSAtICgwLCBfaW5kZXguZGVmYXVsdCkoc3RhcnRPZkRheVJpZ2h0KTsgLy8gUm91bmQgdGhlIG51bWJlciBvZiBkYXlzIHRvIHRoZSBuZWFyZXN0IGludGVnZXJcbiAgLy8gYmVjYXVzZSB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpbiBhIGRheSBpcyBub3QgY29uc3RhbnRcbiAgLy8gKGUuZy4gaXQncyBkaWZmZXJlbnQgaW4gdGhlIGRheSBvZiB0aGUgZGF5bGlnaHQgc2F2aW5nIHRpbWUgY2xvY2sgc2hpZnQpXG5cbiAgcmV0dXJuIE1hdGgucm91bmQoKHRpbWVzdGFtcExlZnQgLSB0aW1lc3RhbXBSaWdodCkgLyBNSUxMSVNFQ09ORFNfSU5fREFZKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBzdGFydE9mRGF5O1xuXG52YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vdG9EYXRlL2luZGV4LmpzXCIpKTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIGRheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDAwOjAwOjAwXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZGlydHlEYXRlKSB7XG4gICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB0b0RhdGU7XG5cbnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5mdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgKDAsIF9pbmRleC5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICB2YXIgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTsgLy8gQ2xvbmUgdGhlIGRhdGVcblxuICBpZiAoYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiBhcmd1bWVudCA9PT0gJ29iamVjdCcgJiYgYXJnU3RyID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQuZ2V0VGltZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdudW1iZXInIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgTnVtYmVyXScpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nKSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXQuaW8vZmp1bGVcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cbiAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJcbmltcG9ydCBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMgZnJvbSAnZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzJ1xuXG4vLyBzZXQgY3VycmVudCBkYXRlXG5jb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG5jb25zdCBkZCA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG5jb25zdCBtbSA9IFN0cmluZyh0b2RheS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTsgLy9KYW51YXJ5IGlzIDAhXG5jb25zdCB5eXl5ID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcbmNvbnN0IGN1cnJlbnREYXRlID0gYCR7eXl5eX0tJHttbX0tJHtkZH1gO1xuXG5cbmNvbnN0IGxvY1N0b3JhZ2UgPSAoKCkgPT4ge1xuLy8gY2hlY2sgaWYgbG9jYWwgc3RvcmFnZSBhdmFpbGFibGVcblxuICAgIGxldCBsb2NhbFN0b3IgPSBzdG9yYWdlQXZhaWxhYmxlKCdsb2NhbFN0b3JhZ2UnKTtcblxuICAgIGZ1bmN0aW9uIHN0b3JhZ2VBdmFpbGFibGUodHlwZSkge1xuICAgICAgICB2YXIgc3RvcmFnZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV07XG4gICAgICAgICAgICB2YXIgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcbiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSh4LCB4KTtcbiAgICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh4KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgICAgICAgICAgICAgZS5jb2RlID09PSAyMiB8fFxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3hcbiAgICAgICAgICAgICAgICBlLmNvZGUgPT09IDEwMTQgfHxcbiAgICAgICAgICAgICAgICAvLyB0ZXN0IG5hbWUgZmllbGQgdG9vLCBiZWNhdXNlIGNvZGUgbWlnaHQgbm90IGJlIHByZXNlbnRcbiAgICAgICAgICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnUXVvdGFFeGNlZWRlZEVycm9yJyB8fFxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3hcbiAgICAgICAgICAgICAgICBlLm5hbWUgPT09ICdOU19FUlJPUl9ET01fUVVPVEFfUkVBQ0hFRCcpICYmXG4gICAgICAgICAgICAgICAgLy8gYWNrbm93bGVkZ2UgUXVvdGFFeGNlZWRlZEVycm9yIG9ubHkgaWYgdGhlcmUncyBzb21ldGhpbmcgYWxyZWFkeSBzdG9yZWRcbiAgICAgICAgICAgICAgICAoc3RvcmFnZSAmJiBzdG9yYWdlLmxlbmd0aCAhPT0gMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb3B5VG9Mb2NhbChwcm9qZWN0TGlzdCl7XG4gICAgICAgIGlmIChsb2NhbFN0b3IpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kb1wiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0TGlzdCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmV0dXJucyBsb2NhbCBzdG9yYWdlIGlmIGF2YWlsYWJsZSwgaWYgbm90IHJldHVybnMgZW1wdHkgYXJyYXlcbiAgICBmdW5jdGlvbiBnZXRMb2NhbCgpe1xuICAgICAgICBpZiAobG9jYWxTdG9yICYmIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2RvXCIpKSAhPSAnJykge1xuICAgICAgICAgICAgbGV0IGxvY2FsID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvZG9cIikpO1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsOyBcblxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldExvY2FsKCkge1xuICAgICAgICBpZiAobG9jYWxTdG9yKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kbycsIEpTT04uc3RyaW5naWZ5KFtdKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjb3B5VG9Mb2NhbCxcbiAgICAgICAgZ2V0TG9jYWwsXG4gICAgICAgIHJlc2V0TG9jYWxcbiAgICB9XG5cbn0pKCk7XG5cblxuY29uc3QgVGFzayA9ICh0aXRsZSwgZGVzY3JpcHRpb24gPSAnJywgZHVlID0gJycsIHByaW9yaXR5ID0gMSwgc3RhdHVzID0gJ29wZW4nKSA9PiB7XG4gICAgY29uc3Qgbm90ZXMgPSBbXTtcblxuICAgIGNvbnN0IGdldFRpdGxlID0gKCkgPT4gdGl0bGU7XG4gICAgY29uc3Qgc2V0VGl0bGUgPSAobmV3VGl0bGUpID0+IHRpdGxlID0gbmV3VGl0bGU7XG5cbiAgICBjb25zdCBnZXREZXNjcmlwdGlvbiA9ICgpID0+IGRlc2NyaXB0aW9uO1xuICAgIGNvbnN0IHNldERlc2NyaXB0aW9uID0gKG5ld0Rlc2NyaXB0aW9uKSA9PiBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuXG4gICAgY29uc3QgZ2V0RHVlID0gKCkgPT4gZHVlO1xuICAgIGNvbnN0IHNldER1ZSA9IChuZXdEdWUpID0+IGR1ZSA9IG5ld0R1ZTtcblxuICAgIGNvbnN0IGdldFByaW9yaXR5ID0gKCkgPT4gcHJpb3JpdHk7XG4gICAgY29uc3Qgc2V0UHJpb3JpdHkgPSAobmV3UHJpb3JpdHkpID0+IHByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG5cbiAgICBjb25zdCBnZXRTdGF0dXMgPSAoKSA9PiBzdGF0dXM7XG4gICAgY29uc3QgdG9nZ2xlU3RhdHVzID0gKCkgPT4ge1xuICAgICAgICBpZiAoc3RhdHVzID09PSAnb3BlbicpIHN0YXR1cyA9ICdjbG9zZWQnO1xuICAgICAgICBpZiAoc3RhdHVzID09PSAnY2xvc2VkJykgc3RhdHVzID0gJ29wZW4nO1xuICAgIH07XG5cbiAgICAvLyBmb3IgZGVidWdnaW5nLCBub3QgdXNlZD9cbiAgICBjb25zdCBnZXRUYXNrID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gW3RpdGxlLCBkZXNjcmlwdGlvbiwgZHVlLCBwcmlvcml0eSwgc3RhdHVzXTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWRkTm90ZSA9IChub3RlKSA9PiB7XG4gICAgICAgIG5vdGVzLnVuc2hpZnQobm90ZSk7XG4gICAgfTtcbiAgICBjb25zdCBkZWxldGVOb3RlID0gKG51bSkgPT4ge1xuICAgICAgICBub3Rlcy5zcGxpY2UobnVtLCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRUaXRsZSxcbiAgICAgICAgc2V0VGl0bGUsXG4gICAgICAgIGdldERlc2NyaXB0aW9uLFxuICAgICAgICBzZXREZXNjcmlwdGlvbixcbiAgICAgICAgZ2V0RHVlLFxuICAgICAgICBzZXREdWUsXG4gICAgICAgIGdldFByaW9yaXR5LFxuICAgICAgICBzZXRQcmlvcml0eSxcbiAgICAgICAgZ2V0U3RhdHVzLFxuICAgICAgICB0b2dnbGVTdGF0dXMsXG4gICAgICAgIGdldFRhc2ssXG4gICAgICAgIGFkZE5vdGUsXG4gICAgICAgIGRlbGV0ZU5vdGVcbiAgICB9XG59O1xuXG5jb25zdCBQcm9qZWN0ID0gKHRpdGxlLCBkZXNjcmlwdGlvbiA9ICcnKSA9PiB7XG4gICAgY29uc3QgdGFza3MgPSBbXTtcblxuICAgIGNvbnN0IGdldFRpdGxlID0gKCkgPT4gdGl0bGU7XG4gICAgY29uc3Qgc2V0VGl0bGUgPSAobmV3VGl0bGUpID0+IHRpdGxlID0gbmV3VGl0bGU7XG4gICAgY29uc3QgZ2V0RGVzY3JpcHRpb24gPSAoKSA9PiBkZXNjcmlwdGlvbjtcbiAgICBjb25zdCBzZXREZXNjcmlwdGlvbiA9IChuZXdEZXNjcmlwdGlvbikgPT4gZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcblxuICAgIGNvbnN0IGFkZFRhc2sgPSAodGFzaykgPT4ge1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2spO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVUYXNrID0gKG51bSkgPT4gdGFza3Muc3BsaWNlKG51bSwgMSk7XG5cbiAgICBjb25zdCBnZXRUYXNrcyA9ICgpID0+IHRhc2tzO1xuXG4gICAgY29uc3QgZXhwb3J0RGF0YSA9ICgpID0+IHtcbiAgICAgICAgbGV0IGV4cG9ydGVyID0gW3RpdGxlLCBbXV07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGV4cG9ydGVyWzFdLnB1c2godGFza3NbaV0uZ2V0VGFzaygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwb3J0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0VGl0bGUsXG4gICAgICAgIHNldFRpdGxlLFxuICAgICAgICBnZXREZXNjcmlwdGlvbixcbiAgICAgICAgc2V0RGVzY3JpcHRpb24sXG4gICAgICAgIGFkZFRhc2ssXG4gICAgICAgIGRlbGV0ZVRhc2ssXG4gICAgICAgIGdldFRhc2tzLFxuICAgICAgICBleHBvcnREYXRhXG4gICAgfVxufTtcblxuY29uc3QgcHJvamVjdHMgPSAoKCkgPT4ge1xuXG4gICAgLy8gYWRkIGEgbmV3IHByb2plY3RcbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gKHByb2plY3QpID0+IHtcbiAgICAgICAgcHJvamVjdExpc3QucHVzaChwcm9qZWN0KTtcbiAgICAgICAgbG9jU3RvcmFnZS5jb3B5VG9Mb2NhbChleHBvcnRQcm9qZWN0cygpKTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVCbGFuayA9ICgpID0+IHtcbiAgICAgICAgbGV0IGJsYW5rID0gUHJvamVjdCgnR2VuZXJhbCcpO1xuICAgICAgICByZXR1cm4gW2JsYW5rXTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVQcm9qZWN0ID0gKG51bSkgPT4ge1xuICAgICAgICBwcm9qZWN0TGlzdC5zcGxpY2UobnVtLCAxKTtcbiAgICAgICAgbG9jU3RvcmFnZS5jb3B5VG9Mb2NhbChleHBvcnRQcm9qZWN0cygpKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRQcm9qZWN0ID0gKGluZGV4KSA9PiAgcHJvamVjdExpc3RbaW5kZXhdO1xuXG4gICAgY29uc3QgZ2V0UHJvamVjdHMgPSAoKSA9PiBwcm9qZWN0TGlzdDtcblxuICAgIGNvbnN0IHVwZGF0ZVByb2plY3QgPSAoaW5kZXgsIHByb2plY3QpID0+IHtcbiAgICAgICAgcHJvamVjdExpc3Quc3BsaWNlKGluZGV4LCAxLCBwcm9qZWN0KTtcbiAgICAgICAgbG9jU3RvcmFnZS5jb3B5VG9Mb2NhbChleHBvcnRQcm9qZWN0cygpKTtcbiAgICB9XG5cbiAgICBjb25zdCBleHBvcnRQcm9qZWN0cyA9ICgpID0+IHtcbiAgICAgICAgbGV0IGV4cG9ydGVyID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGV4cG9ydGVyLnB1c2gocHJvamVjdExpc3RbaV0uZXhwb3J0RGF0YSgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGV4cG9ydGVyO1xuICAgIH1cblxuICAgIGNvbnN0IGltcG9ydFByb2plY3RzID0gKHByb2plY3RBcnIpID0+IHtcbiAgICAgICAgbGV0IGFyckZyb21JbXBvcnQgPSBbXTtcbiAgICAgICAgLy8gY3ljbGUgdGhyb3VnaCBlYWNoIHByb2plY3RcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbmV3UHJvamVjdCA9IFByb2plY3QocHJvamVjdEFycltpXVswXSk7XG5cbiAgICAgICAgICAgIC8vIGdldCBhcnJheSBjb250YWluaW5nIHRhc2socylcbiAgICAgICAgICAgIGxldCBuZXdUYXNrTGlzdCA9IHByb2plY3RBcnJbaV1bMV07XG5cbiAgICAgICAgICAgIC8vIENIQU5HRSBUQVNLUyBGUk9NIEFSUkFZIFRPIE9CSkVDVFMgVy8gS0VZU1xuICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyB0YXNrcyBmcm9tIGVhY2ggdGFzaywgYWRkIHRoZW0gdG8gcHJvamVjdFxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXdUYXNrTGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBuZXdUaXRsZSA9IG5ld1Rhc2tMaXN0W2pdWzBdO1xuICAgICAgICAgICAgICAgIGxldCBuZXdEZXNjcmlwdGlvbiA9IG5ld1Rhc2tMaXN0W2pdWzFdO1xuICAgICAgICAgICAgICAgIGxldCBuZXdEdWUgPSBuZXdUYXNrTGlzdFtqXVsyXTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3UHJpb3JpdHkgPSBuZXdUYXNrTGlzdFtqXVszXTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U3RhdHVzID0gbmV3VGFza0xpc3Rbal1bNF07XG5cbiAgICAgICAgICAgICAgICBsZXQgbmV3VGFzayA9IFRhc2sobmV3VGl0bGUsIG5ld0Rlc2NyaXB0aW9uLCBuZXdEdWUsIG5ld1ByaW9yaXR5LCBuZXdTdGF0dXMpO1xuICAgICAgICAgICAgICAgIG5ld1Byb2plY3QuYWRkVGFzayhuZXdUYXNrKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9wdXNoIHBvcHVsYXRlZCBwcm9qZWN0IGludG8gbmV3IHByb2plY3QgbGlzdFxuICAgICAgICAgICAgYXJyRnJvbUltcG9ydC5wdXNoKG5ld1Byb2plY3QpO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyckZyb21JbXBvcnQ7XG4gICAgfVxuXG4gICAgY29uc3QgbnVtUHJvamVjdHMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TGlzdC5sZW5ndGg7XG4gICAgfVxuXG4gICAgbGV0IHByb2plY3RJbXBvcnQgPSBsb2NTdG9yYWdlLmdldExvY2FsKCk7XG4gICAgbGV0IHByb2plY3RMaXN0O1xuXG4gICAgLy8gY3JlYXRlIGRlZmF1bHQgbGlzdCBpZiBubyBsb2NhbHN0b3IsIG90aGVyd2lzZSB1c2UgbG9jYWxcbiAgICBpZiAocHJvamVjdEltcG9ydCA9PSBudWxsKSB7XG4gICAgICAgIHByb2plY3RMaXN0ID0gY3JlYXRlQmxhbmsoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHByb2plY3RMaXN0ID0gaW1wb3J0UHJvamVjdHMocHJvamVjdEltcG9ydCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUHJvamVjdCxcbiAgICAgICAgZGVsZXRlUHJvamVjdCxcbiAgICAgICAgZ2V0UHJvamVjdHMsXG4gICAgICAgIGdldFByb2plY3QsXG4gICAgICAgIHVwZGF0ZVByb2plY3QsXG4gICAgICAgIGV4cG9ydFByb2plY3RzLFxuICAgICAgICBpbXBvcnRQcm9qZWN0cyxcbiAgICAgICAgbnVtUHJvamVjdHNcbiAgICB9XG5cbn0pKCk7XG5cblxuLy8gZHVtbXkgdGFza3MvcHJvamVjdHMgZm9yIGxheW91dFxuLy8gY29uc3QgdDEgPSBUYXNrKCdUYXNrIDEnLCAnRGVzY3JpcHRpb24gZm9yIHRhc2sgMScsICcyLTUtMjAyMCcsIDIsICdvcGVuJyk7XG4vLyBjb25zdCB0MiA9IFRhc2soJ1Rhc2sgMicsICdTZWNvbmQgRGVzY3JpcHRpb24nLCAnMi01LTIwMjAnLCAxLCAnY2xvc2VkJyk7XG4vLyBjb25zdCB0MyA9IFRhc2soJ1Rhc2sgMycsICdUaGlyZCBEZXNjcmlwdGlvbiBvZiB0YXNrJywgJzItNS0yMDIwJywgNCwgJ29wZW4nKTtcblxuLy8gY29uc3QgcDEgPSBQcm9qZWN0KCdHZW5lcmFsIDEnLCAnRmlyc3QgcHJvamVjdCB3aXRoIHRhc2tzJyk7XG4vLyBjb25zdCBwMiA9IFByb2plY3QoJ1NlY29uZCBQcm9qZWN0JywgJ0Rlc2NyaXB0aW9uIGhlcmUnKTtcblxuLy8gcDEuYWRkVGFzayh0MSk7XG4vLyBwMS5hZGRUYXNrKHQyKTtcbi8vIHAxLmFkZFRhc2sodDMpO1xuXG4vLyBwMi5hZGRUYXNrKHQzKTtcbi8vIHAyLmFkZFRhc2sodDIpO1xuLy8gcDIuYWRkVGFzayh0MSk7XG5cbi8vIHByb2plY3RzLmFkZFByb2plY3QocDIpO1xuLy8gcHJvamVjdHMuYWRkUHJvamVjdChwMSk7XG5cbi8vY29udHJvbGxlciAgZm9yIERPTSBlbGVtZW50c1xuY29uc3QgcmVuZGVyUGFnZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50Jyk7XG4gICAgbGV0IGN1cnJlbnRQcm9qSW5kZXggPSAwO1xuICAgIGxldCBwcm9qZWN0ID0gcHJvamVjdHMuZ2V0UHJvamVjdChjdXJyZW50UHJvakluZGV4KTtcbiAgICBsZXQgcHJvamVjdExpc3QgPSBwcm9qZWN0cy5nZXRQcm9qZWN0cygpOyAgICBcblxuICAgIC8vcG9wdWxhdGUgZnVuY3Rpb24gY2FsbHMgaHRtbFxuICAgIC8vIHNldCBsaXN0ZW5lciB0byArYWRkIGJ1dHRvblxuICAgIGNvbnN0IGFkZFByb2plY3RCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkUHJvamVjdEJ1dHRvbicpO1xuICAgIGFkZFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVQcm9qZWN0Rm9ybSgpKTtcblxuICAgIC8vc3VibWl0IHRhc2tcbiAgICBjb25zdCBzdWJtaXRUYXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdFRhc2snKTtcbiAgICBzdWJtaXRUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVuZGVyUGFnZS5kaXNwYXRjaEFkZFRhc2soKSk7XG5cbiAgICAvL2NhbmNlbCB0YXNrIGZvcm1cbiAgICBjb25zdCBjYW5jZWxUYXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbFRhc2tGb3JtJyk7XG4gICAgY2FuY2VsVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4gcmVuZGVyUGFnZS50b2dnbGVUYXNrRm9ybSgpKTtcblxuICAgIC8vYWRkIHByb2plY3QgYnV0dG9uXG4gICAgY29uc3Qgc3VibWl0UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRQcm9qZWN0QnV0dG9uJyk7XG4gICAgc3VibWl0UHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJlbmRlclBhZ2UuZGlzcGF0Y2hBZGRQcm9qZWN0KCkpO1xuXG4gICAgLy9jYW5jZWwgcHJvamVjdCBmb3JtXG4gICAgY29uc3QgY2FuY2VsUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxQcm9qZWN0Rm9ybScpO1xuICAgIGNhbmNlbFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHJlbmRlclBhZ2UudG9nZ2xlUHJvamVjdEZvcm0oKSk7XG5cbiAgICBjb25zdCByZW5kZXJDb250ZW50ID0gKGluZGV4KSA9PiB7XG4gICAgICAgIC8vY2xlYXIgcGFnZVxuICAgICAgICAvLyBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKTtcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICAvLyB1cGRhdGUgY3VycmVudCBwcm9qZWN0IGluZGV4ICNcbiAgICAgICAgY3VycmVudFByb2pJbmRleCA9IGluZGV4O1xuXG4gICAgICAgIC8vdXBkYXRlIGN1cnJlbnQgcHJvamVjdFxuICAgICAgICBwcm9qZWN0ID0gcHJvamVjdHMuZ2V0UHJvamVjdChpbmRleCk7XG5cbiAgICAgICAgLy9yZW5kZXIgdGl0bGVcbiAgICAgICAgY29uc3QgY2F0SGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjYXRIZWFkLmlkID0gJ2NhdGVnb3J5SGVhZCc7XG5cbiAgICAgICAgY29uc3QgY2F0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2F0VGl0bGUuaWQgPSAnY2F0ZWdvcnlUaXRsZSc7XG4gICAgICAgIGNhdFRpdGxlLnRleHRDb250ZW50ID0gcHJvamVjdC5nZXRUaXRsZSgpO1xuXG4gICAgICAgIC8vcHJvamVjdCBmdW5jdGlvbnNcbiAgICAgICAgY29uc3QgY2F0RnVuY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNhdEZ1bmN0aW9ucy5pZCA9ICdjYXRlZ29yeUZ1bmN0aW9ucyc7XG5cbiAgICAgICAgLy8gYWRkIHRhc2sgYnV0dG9uXG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBhZGRUYXNrQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJlbmRlclBhZ2UudG9nZ2xlVGFza0Zvcm0oKSk7XG4gICAgICAgIGFkZFRhc2tCdXR0b24udmFsdWUgPSBcIisgYWRkIHRhc2tcIjtcbiAgICAgICAgYWRkVGFza0J1dHRvbi5pZCA9IFwiYWRkVGFza0J1dHRvblwiO1xuICAgICAgICBjYXRGdW5jdGlvbnMuYXBwZW5kQ2hpbGQoYWRkVGFza0J1dHRvbik7XG5cbiAgICAgICAgLy9kZWxldGUgcHJvamVjdCBidXR0b25cbiAgICAgICAgY29uc3QgZGVsZXRlUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGRlbGV0ZVByb2plY3RCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBkZWxldGVQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVuZGVyUGFnZS5kaXNwYXRjaERlbFByb2plY3QoY3VycmVudFByb2pJbmRleCkpO1xuICAgICAgICBkZWxldGVQcm9qZWN0QnV0dG9uLnZhbHVlID0gXCItIGRlbGV0ZSBwcm9qZWN0XCI7XG4gICAgICAgIGRlbGV0ZVByb2plY3RCdXR0b24uaWQgPSBcImFkZFRhc2tCdXR0b25cIjtcbiAgICAgICAgY2F0RnVuY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZVByb2plY3RCdXR0b24pO1xuXG4gICAgICAgIGNhdEhlYWQuYXBwZW5kQ2hpbGQoY2F0VGl0bGUpO1xuICAgICAgICBjYXRIZWFkLmFwcGVuZENoaWxkKGNhdEZ1bmN0aW9ucyk7XG4gICAgICAgIFxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGNhdEhlYWQpO1xuXG4gICAgICAgIC8vcmVuZGVyIHRhc2tzXG4gICAgICAgIGxldCB0YXNrTGlzdCA9IHByb2plY3QuZ2V0VGFza3MoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXNrTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVuZGVyVGFzayh0YXNrTGlzdFtpXSwgaSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3VwZGF0ZSBhZGQgdGFzayBmb3JtXG4gICAgICAgIGNvbnN0IGFkZFRhc2tGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFRhc2tGb3JtJyk7XG4gICAgICAgIGFkZFRhc2tGb3JtLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGluZGV4KTtcblxuICAgICAgICAvL3VwZGF0ZSBkYXRhLWluZGV4IGZvciBjb250ZW50IHBhZ2UsIHRvIHRyYWNrIGZvciBvdGhlciBmdW5jdGlvbnNcbiAgICAgICAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBpbmRleCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclRhc2sgPSAodGFzaywgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHRhc2tUaXRsZVRleHQgPSB0YXNrLmdldFRpdGxlKCk7XG4gICAgICAgIGxldCBkdWVEYXRlID0gdGFzay5nZXREdWUoKTtcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uVGV4dCA9IHRhc2suZ2V0RGVzY3JpcHRpb24oKTtcblxuXG4gICAgICAgIGxldCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndGFza0NvbnRhaW5lcicpO1xuICAgICAgICBcblxuICAgICAgICBsZXQgdGFza0hlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGFza0hlYWQuY2xhc3NMaXN0LmFkZCgndGFza0hlYWQnKTtcblxuICAgICAgICBsZXQgdGFza1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKCd0YXNrVGl0bGUnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIGFkZCBkb3RzIHRvIGltcGx5IGV4cGFuZCBpZiBkZXNjcmlwdGlvbiBleGlzdHNcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uVGV4dCAhPSAnJykge1xuICAgICAgICAgICAgdGFza1RpdGxlVGV4dCArPSBcIiAuLi5cIjtcbiAgICAgICAgfVxuICAgICAgICB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSB0YXNrVGl0bGVUZXh0O1xuXG4gICAgICAgIC8vIGV2ZW50IGxpc3RlbmVyIHRvIGV4cGFuZC9jb250cmFjdCB0YXNrIGRldGFpbHMgKGFmdGVyIHRhc2sgZnVuY3Rpb25zKVxuICAgICAgICB0YXNrVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVUYXNrQm9keShpbmRleCkpO1xuXG4gICAgICAgIC8vIHNob3cgZHVlIGRhdGUgaWYgc2V0XG4gICAgICAgIFxuICAgICAgICBsZXQgZHVlRGF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkdWVEYXRlRGl2LmNsYXNzTGlzdC5hZGQoJ2R1ZURhdGUnKTtcblxuICAgICAgICBpZiAoZHVlRGF0ZSAhPSAnJykge1xuICAgICAgICAgICAgY29uc3QgZGF5c0JldHdlZW4gPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMobmV3IERhdGUoZHVlRGF0ZSksIG5ldyBEYXRlKGN1cnJlbnREYXRlKSk7XG4gICAgICAgICAgICBkdWVEYXRlRGl2LnRleHRDb250ZW50ID0gYCR7ZGF5c0JldHdlZW59RCBsZWZ0ICgke2R1ZURhdGV9KWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxldCB0YXNrRnVuY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRhc2tGdW5jdGlvbnMuY2xhc3NMaXN0LmFkZCgndGFza0Z1bmN0aW9ucycpO1xuXG4gICAgICAgIGNvbnN0IGRlbFRhc2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBkZWxUYXNrQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgZGVsVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJlbmRlclBhZ2UuZGlzcGF0Y2hEZWxUYXNrKGluZGV4KSk7XG4gICAgICAgIGRlbFRhc2tCdXR0b24udmFsdWUgPSBcIi0gZGVsZXRlXCI7XG4gICAgICAgIGRlbFRhc2tCdXR0b24uY2xhc3NMaXN0LmFkZCgnZGVsVGFza0J1dHRvbicpO1xuXG4gICAgICAgIHRhc2tGdW5jdGlvbnMuYXBwZW5kQ2hpbGQoZGVsVGFza0J1dHRvbik7XG5cbiAgICAgICAgbGV0IHRhc2tCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRhc2tCb2R5LmNsYXNzTGlzdC5hZGQoJ3Rhc2tCb2R5Jyk7XG4gICAgICAgIHRhc2tCb2R5LmlkID0gYHRhc2tib2R5LSR7aW5kZXh9YDtcblxuICAgICAgICBsZXQgdGFza0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKCd0YXNrRGVzY3JpcHRpb24nKTtcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdGFzay5nZXREZXNjcmlwdGlvbigpO1xuXG4gICAgICAgIHRhc2tIZWFkLmFwcGVuZENoaWxkKHRhc2tUaXRsZSk7XG4gICAgICAgIHRhc2tIZWFkLmFwcGVuZENoaWxkKGR1ZURhdGVEaXYpO1xuICAgICAgICB0YXNrSGVhZC5hcHBlbmRDaGlsZCh0YXNrRnVuY3Rpb25zKTtcblxuICAgICAgICB0YXNrQm9keS5hcHBlbmRDaGlsZCh0YXNrRGVzY3JpcHRpb24pO1xuXG4gICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQodGFza0hlYWQpO1xuICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tCb2R5KTtcblxuICAgICAgICAvLyBhZGQgdGFzayB0byBjb250ZW50IHNlY3Rpb25cbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0YXNrQ29udGFpbmVyKTtcblxuICAgIH07XG5cbiAgICAgICAgLy9nZW5lcmF0ZSBtZW51IGxpbmtzXG4gICAgY29uc3QgcmVuZGVyTWVudSA9ICgpID0+IHsgXG5cbiAgICAgICAgY29uc3QgcHJvamVjdE1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdE1lbnUnKTtcbiAgICAgICAgcHJvamVjdE1lbnUuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgbGV0IHByb2plY3RIZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHByb2plY3RIZWFkLmlkID0gJ3Byb2plY3RIZWFkJztcblxuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByb2plY3RMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgcHJvamVjdExpbmsuY2xhc3NMaXN0LmFkZCgncHJvamVjdExpbmsnKTtcbiAgICAgICAgICAgIHByb2plY3RMaW5rLmhyZWYgPSBcIiNcIjtcbiAgICAgICAgICAgIHByb2plY3RMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVuZGVyQ29udGVudChpKSk7XG4gICAgICAgICAgICBwcm9qZWN0TGluay50ZXh0Q29udGVudCA9IHByb2plY3RMaXN0W2ldLmdldFRpdGxlKCk7XG4gICAgICAgICAgICBwcm9qZWN0TGluay5pbm5lckhUTUwgPSBwcm9qZWN0TGluay5pbm5lckhUTUwgKyBcIjxicj5cIlxuICAgICAgICAgICAgcHJvamVjdE1lbnUuYXBwZW5kQ2hpbGQocHJvamVjdExpbmspO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVUYXNrRm9ybSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza1doaXRlT3V0Jyk7XG4gICAgICAgIHRhc2tGb3JtLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3dUYXNrRm9ybScpO1xuXG4gICAgfTtcblxuICAgIGNvbnN0IHRvZ2dsZVByb2plY3RGb3JtID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0V2hpdGVPdXQnKTtcbiAgICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LnRvZ2dsZSgnc2hvd1Byb2plY3RGb3JtJyk7XG4gICAgfTtcblxuXG4gICAgY29uc3QgdG9nZ2xlVGFza0JvZHkgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRUYXNrQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0YXNrYm9keS0ke2luZGV4fWApO1xuICAgICAgICBjdXJyZW50VGFza0JvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvd1Rhc2tCb2R5Jyk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzZXRUYXNrRm9ybSA9ICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld1Rhc2tUaXRsZScpLnZhbHVlID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdUYXNrRGVzY3JpcHRpb24nKS52YWx1ZSA9ICcnO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3VGFza0R1ZScpLnZhbHVlID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdUYXNrUHJpb3JpdHknKS52YWx1ZSA9ICcxJztcbiAgICB9O1xuXG4gICAgY29uc3QgZGlzcGF0Y2hBZGRUYXNrID0gKCkgPT4ge1xuICAgICAgICBsZXQgbmV3VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3VGFza1RpdGxlJykudmFsdWU7XG4gICAgICAgIFxuICAgICAgICAvL2NvbmZpcm0gaGFzIHRpdGxlLCBvdGhlcndpc2UgbGVhdmUgZm9ybSB1cFxuICAgICAgICBpZiAobmV3VGl0bGUgPT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZygnbmV3IHRpdGxlOiAnICsgbmV3VGl0bGUpO1xuICAgICAgICBsZXQgbmV3RGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3VGFza0Rlc2NyaXB0aW9uJykudmFsdWU7XG4gICAgICAgIGxldCBuZXdEdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3VGFza0R1ZScpLnZhbHVlO1xuICAgICAgICBsZXQgbmV3UHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3VGFza1ByaW9yaXR5JykudmFsdWU7XG4gXG4gICAgICAgIGxldCBuZXdUYXNrID0gVGFzayhuZXdUaXRsZSxuZXdEZXNjcmlwdGlvbixuZXdEdWUsbmV3UHJpb3JpdHkpO1xuXG4gICAgICAgIHByb2plY3QuYWRkVGFzayhuZXdUYXNrKTtcbiAgICAgICAgcHJvamVjdHMudXBkYXRlUHJvamVjdChjdXJyZW50UHJvakluZGV4LCBwcm9qZWN0KTtcblxuICAgICAgICAvLyByZXJlbmRlciBwYWdlXG4gICAgICAgIHJlbmRlclBhZ2UudG9nZ2xlVGFza0Zvcm0oKTtcbiAgICAgICAgcmVzZXRUYXNrRm9ybSgpO1xuICAgICAgICByZW5kZXJQYWdlLnJlbmRlckNvbnRlbnQoY3VycmVudFByb2pJbmRleCk7XG5cbiAgICB9O1xuXG4gICAgY29uc3QgZGlzcGF0Y2hEZWxUYXNrID0gKGlkKSA9PiB7XG4gICAgICAgIHByb2plY3QuZGVsZXRlVGFzayhpZCk7XG4gICAgICAgIHByb2plY3RzLnVwZGF0ZVByb2plY3QoY3VycmVudFByb2pJbmRleCwgcHJvamVjdCk7XG4gICAgICAgIHJlbmRlclBhZ2UucmVuZGVyQ29udGVudChjdXJyZW50UHJvakluZGV4KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGRpc3BhdGNoRGVsUHJvamVjdCA9IChpZCkgPT4ge1xuICAgICAgICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHByb2plY3Q/JykpIHtcbiAgICAgICAgICAgIHByb2plY3RzLmRlbGV0ZVByb2plY3QoaWQpO1xuICAgICAgICAgICAgY3VycmVudFByb2pJbmRleCA9IDA7XG4gICAgICAgICAgICByZW5kZXJQYWdlLnJlbmRlck1lbnUoKTtcbiAgICAgICAgICAgIHJlbmRlclBhZ2UucmVuZGVyQ29udGVudChjdXJyZW50UHJvakluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkaXNwYXRjaEFkZFByb2plY3QgPSAoKSA9PiB7XG4gICAgICAgIGxldCBuZXdUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdQcm9qZWN0VGl0bGUnKS52YWx1ZTtcbiAgICAgICAgbGV0IG5ld0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld1Byb2plY3REZXNjcmlwdGlvbicpLnZhbHVlO1xuXG4gICAgICAgIGxldCBuZXdQcm9qZWN0ID0gUHJvamVjdChuZXdUaXRsZSwgbmV3RGVzY3JpcHRpb24pO1xuXG4gICAgICAgIC8vIGFkZCBwcm9qZWN0XG4gICAgICAgIHByb2plY3RzLmFkZFByb2plY3QobmV3UHJvamVjdCk7XG5cbiAgICAgICAgLy91cGRhdGUgbWVudVxuICAgICAgICByZW5kZXJQYWdlLnJlbmRlck1lbnUoKTtcblxuICAgICAgICAvLyB0b2dnbGUgcHJvamVjdGZvcm1cbiAgICAgICAgcmVuZGVyUGFnZS50b2dnbGVQcm9qZWN0Rm9ybSgpO1xuXG4gICAgICAgIC8vIHNldCBjdXJyZW50IHBhZ2UgdG8gbmV3IHByb2plY3RcbiAgICAgICByZW5kZXJDb250ZW50KHByb2plY3RzLm51bVByb2plY3RzKCkgLSAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXJDb250ZW50LFxuICAgICAgICByZW5kZXJNZW51LFxuICAgICAgICB0b2dnbGVUYXNrRm9ybSxcbiAgICAgICAgdG9nZ2xlUHJvamVjdEZvcm0sXG4gICAgICAgIGRpc3BhdGNoQWRkVGFzayxcbiAgICAgICAgZGlzcGF0Y2hEZWxUYXNrLFxuICAgICAgICBkaXNwYXRjaERlbFByb2plY3QsXG4gICAgICAgIGRpc3BhdGNoQWRkUHJvamVjdFxuICAgIH1cblxufSkoKTtcbi8vIGxvY1N0b3JhZ2UucmVzZXRMb2NhbCgpO1xuXG5yZW5kZXJQYWdlLnJlbmRlckNvbnRlbnQoMCk7XG5yZW5kZXJQYWdlLnJlbmRlck1lbnUoKTtcblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=